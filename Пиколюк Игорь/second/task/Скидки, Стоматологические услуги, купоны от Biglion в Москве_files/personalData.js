var bgln=bgln||{};bgln.personalData=webpackJsonpbgln__name_([24],{183:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(193),s=o(i),c=n(11),a=o(c),r={showed:!1,search:{actions:{},state:0},map:{cat:"",action:"",state:0},category:{cat:"",actions:{},state:0},get:function(){return JSON.parse(localStorage.getItem("smq"))||r},set:function(t){t=(0,a.default)({},r,t),localStorage.setItem("smq",(0,s.default)(t))},skip:function(t){this.set(r[t])}};e.default=(0,a.default)({},r,r.get())},34:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={set:function(t,e,n){n=n||{};var o=n.expires;if("number"==typeof o&&o){var i=new Date;i.setTime(i.getTime()+1e3*o),o=n.expires=i}o&&o.toUTCString&&(n.expires=o.toUTCString()),e=encodeURIComponent(e);var s=t+"="+e;for(var c in n){s+="; "+c;var a=n[c];!0!==a&&(s+="="+a)}document.cookie=s},get:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},del:function(t){this.set(t,"",{expires:-1})}}},403:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}n(404),n(405);var i=n(34),s=o(i),c=n(183),a=o(c),r={init:function(t){this.data=t,this.data.user.id&&this.pushGA(),!this.data.isMobile&&this.data.user.isGuest&&this.initAuthPopup(),document.addEventListener("DOMContentLoaded",this.onReady.bind(this),!1),function(){if(s.default.get("welcome_popup")||s.default.get("no_popup_force"))return!1;var t=document.querySelector(".header-reg-link"),e=t&&t.getAttribute("href");if(e)n.e(16).then(n.bind(null,443)).then(function(t){return t.default(e)});else if(!s.default.get("welcome_popup")){var o=document.location.host.split("."),i=o.length-1;s.default.set("welcome_popup",1,{path:"/",expires:31536e3,domain:"."+o[i-1]+"."+o[i]})}}(),function(){if(document.getElementById("pre_user_btn")||a.default.showed)return!1;n.e(0).then(n.bind(null,444)).then(function(t){t.default()})}(),function(){document.querySelector(".js-toReviewPopup")&&n.e(10).then(n.bind(null,445))}()},onReady:function(){var t=$("#header0").outerHeight()-$("#citylist-mbl").outerHeight()+$(".top_main_menu_block").outerHeight()+$(".top_main_submenu").outerHeight();document.getElementById("content0").style.paddingTop=(this.data.isMobile?150:t)+"px",document.body.classList.contains("marathonBar")||this.data.user.isGuest||this.checkCityBind(),this.data.isMobile||window.addEventListener("scroll",this.onScroll.bind(this),!1)},onScroll:function(){if(0===parseInt($("#header0").css("top")))return!1;var t=window.pageYOffset>37;document.getElementById("header").classList.contains("citySuggest_active")?($("#header0").css("top","-471px"),$(".top_main_menu_block0").css("top","151px"),$(".main_logo_top").css("top","0px"),$(".delivery-header").css("top",t?"40px":""),$("#content0").css("padding-top","210px"),$(".prilip").css("top",t?"160px !important":"")):($("#header0").css("top",(t?-502:-471)+"px"),$(".top_main_menu_block0").css("top",(t?49:80)+"px"),$(".main_logo_top").css("top",(t?22:-3)+"px"),$("#choose_city_btn").css("top",t?"48px":""),$(".delivery-header").css("top",t?"40px":""))},initAuthPopup:function(){document.getElementById("pre_user_btn").addEventListener("click",function(t){var e=t.target;if("A"!==e.tagName)return!1;t.preventDefault(),n.e(1).then(n.bind(null,87)).then(function(t){return t.default(e.getAttribute("href"))})},!1)},pushGA:function(){var t=this.data.user;window.dataLayer=window.dataLayer||[],dataLayer.push({balanceState:t.balance,userID:t.id})},checkCityBind:function(){var t=this,e=document.getElementById("header");fetch("/profile/miss-region-select/",{credentials:"same-origin",method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){return t.json()}).then(function(n){if(n.ask_city){var o=function(t,e){fetch("/profile/region-select/?"+t,{credentials:"same-origin",method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){return t.json()}).then(function(t){"function"==typeof e&&e()}).catch(function(t){})},i='\n                <div class="city-suggest-wrap">\n                    <span class="suggest-text">Ваш город — <span class="city-name">'+(n.suppose.NATIVE_TITLE||"Москва")+'</span>?</span>\n                    <span class="btn-round color--orange js-city_update">Да</span>\n                    <span class="btn-round color--orange-transparent js-city_change">Изменить регион</span>\n                </div>';e.insertAdjacentHTML("beforebegin",i),e.classList.add("citySuggest_active"),$("#header0").css("top","-471px"),$(".top_main_menu_block0").css("top","151px"),$(".main_logo_top").css("top",0),$("#content0").css("padding-top","210px"),$("#choose_city_btn").hide(),$(".js-city_update").on("click",function(){o("cityId="+(n.suppose.ID||1),function(){n.suppose.SYSTEM_NAME&&(window.location.href="//"+n.suppose.SYSTEM_NAME+".biglion.ru")}),$(".city-suggest-wrap").remove(),e.classList.remove("citySuggest_active"),t.onScroll()}),$(".js-city_change").on("click",function(){$("#choose_city_btn").show(),e.classList.remove("citySuggest_active"),$(".city-suggest-wrap").remove(),$("#choose_city_btn").trigger("click"),document.getElementById("city-container").setAttribute("data-noredirect",""),document.getElementById("citylist-mbl").addEventListener("click",function(t){var e=function(){return t.path[1].hasAttribute("href")?t.path[1].getAttribute("href"):t.path[0].hasAttribute("href")?t.path[0].getAttribute("href"):void 0}();if(e){t.preventDefault();var n=e.match(/\/\/(.*)\.biglion/)[1];o("cityCode="+(n||""),function(){window.location.href=e})}},!1)})}}).catch(function(t){})}};e.init=r.init.bind(r)},404:function(t,e,n){"use strict";({init:function(){if(this.arrow=document.getElementById("scrollNavArrow"),!this.arrow)return!1;this.scrollUp=this.scrollUp.bind(this),this.onScroll=this.onScroll.bind(this),this.arrow.addEventListener("click",this.scrollUp,!1),window.addEventListener("scroll",this.onScroll,!1)},onScroll:function(){this.arrow.style.display=window.pageYOffset>37?"block":"none"},scrollUp:function(){var t=window.pageYOffset,e=t/20;!function n(){t-=e,window.scrollTo(0,t.toFixed(1)),t>=0&&setTimeout(n,10)}()}}).init()},405:function(t,e,n){"use strict";$(".citylist-hide").on("click",function(){$("body").hasClass("mobile")?$("#header0").css("top","-471px"):$(window).scrollTop()>0?($("#header0").css("top","-502px"),$(".top_main_menu_block0").css("top","49px"),$(".main_logo_top").css("top","19px").find("span").css("top","3px")):($("#header0").css("top","-471px"),$(".top_main_menu_block0").css("top","80px"))}),$("#choose_city_block li").live("click",function(){var t=$(this).html();$("#choose_city_btn b").html("").html(t)}),clickToggleBtn("div#choose_city_btn, #choose_city_close_btn, #choose_city_block li","div#choose_city_block0","","0px -16px","0px 1px",function(){document.body.classList.contains("mobile")?parseInt($("#header0").css("top"))<0?($("#header0").css("top","0"),$(".main_logo_top").css("top","-3px").find("span").css("top","0")):$("#header0").css("top","-471px"):parseInt($("#header0").css("top"))<0?($("#header0").css("top","0"),$(".top_main_menu_block0").css("top","551px"),$(".main_logo_top").css("top","-3px").find("span").css("top","0")):window.pageYOffset?($("#header0").css("top","-502px"),$(".top_main_menu_block0").css("top","49px"),$(".main_logo_top").css("top","22px").find("span").css("top","5px")):($("#header0").css("top","-471px"),$(".top_main_menu_block0").css("top","80px"))},null,{click:!0,touch:!0})}},[403]);